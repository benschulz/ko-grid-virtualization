/*
 Copyright (c) 2015, Ben Schulz
 License: BSD 3-clause (http://opensource.org/licenses/BSD-3-Clause)
*/
function k(g,r){return function(c){return c}(function(c,l,b){b.defineExtension("ko-grid-virtualization",{s:function(h){h.before("body").insert('<tbody class="ko-grid-virtualization-before-spacer"><tr data-bind="style: { height: extensions.virtualization.__beforeHeight() + \'px\' }"><td></td></tr></tbody>');h.after("body").insert('<tbody class="ko-grid-virtualization-after-spacer"><tr data-bind="style: { height: extensions.virtualization.__afterHeight() + \'px\' }"><td></td></tr></tbody>')},q:function(h,
c,a){function b(){a.data.limit(Math.ceil((e.clientHeight-1)/f)+2)}function g(){var b=e.scrollTop,d=e.getBoundingClientRect().top-m.getBoundingClientRect().bottom,d=Math.floor(d/f),d=Math.max(0,Math.min(a.data.view.filteredSize()-a.data.view.size()+2,a.data.offset()+d)),c=d&1;a.data.offset(d-c);n(b-c*f-b%f);p()}function p(){q(Math.max(0,a.data.view.filteredSize()-a.data.offset()-a.data.limit())*f)}var n=l.observable(0),q=l.observable(0);this.__beforeHeight=n;this.__afterHeight=q;var e,m;a.postApplyBindings(function(){e=
a.element.querySelector(".ko-grid-table-scroller");m=a.element.querySelector(".ko-grid-virtualization-before-spacer");a.element.querySelector(".ko-grid-virtualization-after-spacer");a.layout.afterRelayout(b);a.data.view.filteredSize.subscribe(p);e.addEventListener("scroll",g)});var f=25}});return b.declareExtensionAlias("virtualization","ko-grid-virtualization")}({},r,g))}
"function"===typeof define&&define.amd?define(["ko-grid","knockout","ko-data-source","ko-indexed-repeat"],k):window["ko-grid-virtualization"]=k(window.ko.bindingHandlers.grid,window.ko);